<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Update Data</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <header>
        <h1>Pharmacist</h1>
        <div class="menu">
            <ul class="menu-list">
                <li><a href="/">Home Page</a></li>
                <li class="dropdown">
                    <a href="#">Contact Us</a>
                    <ul class="dropdown-menu">
                        <li><a href="/contact">Email</a></li>
                        <li><a href="/contact">Phone</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </header>

    <main>
        <section>
            <!-- <form id="updateForm">
                <label for="inputField1">Input Field 1:</label>
                <input type="text" id="inputField1" name="inputField1">
                <label for="inputField2">Input Field 2:</label>
                <input type="text" id="inputField2" name="inputField2">
                <label for="inputField3">Input Field 3:</label>
                <input type="text" id="inputField3" name="inputField3">
                <button id="updateButton" type="button">Update Data</button>
            </form> -->
            <form id="editMedForm" action="/Pharmacist/updateMed" method="PUT">
                <label for="id">Medicine ID:</label>
                <input type="text" name="id" id="id" placeholder="Enter Medicine ID">
            
                <label for="details">New Details:</label>
                <input type="text" name="details" id="details" placeholder="Enter New Details">
            
                <label for="price">New Price:</label>
                <input type="text" name="price" id="price" placeholder="Enter New Price">
            
                <button type="button" onclick="editMedPrice()">Update Medicine</button>
            </form>
            <div id="updatedDataContainer">
                <!-- The updated data will be inserted here -->
            </div>
        </section>
    </main>

    <footer>
        &copy; 2023 Your Company Name
    </footer>

    <!-- <script>
        document.addEventListener("DOMContentLoaded", function () {
            const updateButton = document.getElementById("updateButton");
            const updatedDataContainer = document.getElementById("updatedDataContainer");


            updateButton.addEventListener("click", function() {
                const inputField1Value = document.getElementById("inputField1").value;
                const inputField2Value = document.getElementById("inputField2").value;
                const inputField3Value = document.getElementById("inputField3").value;

                // Make a PUT request to your server endpoint with the updated data
                updatedDataContainer.innerHTML = `Hnea ${inputField1Value}`;


                fetch("http://localhost:3000/pharmacist/updateMed", {
                    method: "PUT",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        inputField1Value: document.getElementById("inputField1").value,
                        inputField2Value: document.getElementById("inputField2").value,
                        inputField3Value: document.getElementById("inputField3").value,
                    }),
                })
                .then(response => response.json())//check json
                .then(updatedData => {
                    // Display the updated data
                    updatedDataContainer.innerHTML = `
                        <p>Updated Data:</p>
                        <p>Field 1: ${updatedData.field2}</p>
                        <p>Field 2: ${updatedData.field3}</p>
                    `;
                })
                .catch(error => {
                    console.error("Error updating data: ", error);
                    updatedDataContainer.innerHTML = "Error updating data.";
                });
            });
        });
    </script> -->
    <script>
        function editMedPrice() {
            const id = document.getElementById("id").value;
            const details = document.getElementById("details").value;
            const price = document.getElementById("price").value;
            console.log(id);
        
            fetch("/Pharmacist/updateMed", {
                method: "PUT",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({ id, details, price }),
            })
            .then(response => response.json())
            .then(data => {
                // Handle the response here, e.g., display a message or update the UI
                console.log(data);
            })
            .catch(error => {
                // Handle errors here, e.g., display an error message
                console.error(error);
            });
        }
        </script>
       
        
        
        
        
        
        
</body>
</html>
